
We will define a single, core data structure, `PosterRequest`, which encapsulates all the information needed for a poster's lifecycle, from creation at the Front Desk to fulfillment in the Back Office. This structure will be serialized (e.g., to JSON or a compact byte array) for transmission over the BLE characteristics.

### 1. `PosterRequest` Object

This object serves as the single source of truth for a poster's status throughout the system.

|**Field Name**|**Data Type**|**Required**|**Description**|**Used By**|
|---|---|---|---|---|
|`uniqueId`|`String` (UUID)|**Yes**|A globally unique identifier for this request. Generated by the Front Desk upon submission.|Both|
|`posterNumber`|`String`|**Yes**|The client's requested poster number (e.g., "A457"). Used for sorting and display.|Both|
|`status`|`String` (Enum)|**Yes**|The current lifecycle status of the poster. Must be one of the defined status values (see Section 2).|Both|
|`timestampSent`|`DateTime` (ISO 8601)|**Yes**|The exact moment the request was submitted by the Front Desk. **Used for Queue sorting.**|Both|
|`timestampPulled`|`DateTime` (ISO 8601)|No|The exact moment the Back Office marked the poster as **PULLED/FULFILLED**. Used for Audit sorting.|Back Office|
|`isSynced`|`Boolean`|**Yes**|**Local Field.** Indicates if the current state of this request has been successfully transmitted to the paired device via BLE.|Both (Local)|

---

### 2. Status Enumeration (`status` Field)

The `status` field controls the state of the `PosterRequest` object and dictates which screen (Queue or Delivered Audit) it appears on.

|**Status Value**|**Description**|**Role That Sets Status**|
|---|---|---|
|**SENT**|The request has been created by the Front Desk and successfully acknowledged by the Back Office server. It appears in the **Live Request Queue**.|Back Office (Upon successful Write)|
|**PULLED** (or **FULFILLED**)|The Back Office has physically retrieved the poster and marked the request as complete. It appears in the **Delivered Audit** log.|Back Office (Action Button)|
|**FAILED** (Optional)|The Front Desk was unable to establish a connection or receive an acknowledgment from the Back Office.|Front Desk (Local Status)|

---

### 3. BLE Data Serialization

When transmitting data over the BLE characteristics:

- **Request Characteristic (A):** The Front Desk will serialize the **`uniqueId`**, **`posterNumber`**, and **`timestampSent`** fields of the newly created `PosterRequest` object.
    
- **Queue Status Characteristic (B):** The Back Office will serialize the **`uniqueId`**, the new **`status`** (`PULLED`), and **`timestampPulled`** for the status update.
    
- **Full Queue Sync Characteristic (C):** The Back Office will send a compressed array of **all** `PosterRequest` objects for the day, including all fields.
    

This structure is concise and provides all the necessary data points for the application's required sorting and auditing features.